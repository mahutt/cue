<!DOCTYPE html>
<html>
    <%- include('../partials/head', {title: course.name}) %>
    <body style="padding: 1rem">
        <%- include('./title', {course: course}) %>
        <h2>Decks:</h2>
        <div class="decks">
            <% decks.forEach(function(deck) { %> <%- include('../deck/preview', { deck: deck }) %> <% }) %>
        </div>
        <% if (belongs) { %>
        <h2>Create a new deck:</h2>
        <form
            hx-post="/decks"
            hx-trigger="submit"
            hx-target=".decks"
            hx-swap="beforeend"
            hx-on::after-request="this.reset()"
        >
            <label for="name">Deck Name:</label>
            <input type="text" id="name" name="name" required maxlength="100" />
            <br />

            <input type="hidden" id="course_id" name="course_id" value="<%= course.id %>" />

            <button type="submit">Create Deck</button>
        </form>
        <h2>Danger</h2>
        <delete-resource resource="courses" id="<%= course.id %>">Delete Course</delete-resource>
        <% } %>
    </body>
</html>
